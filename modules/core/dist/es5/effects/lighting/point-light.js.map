{"version":3,"sources":["../../../../src/effects/lighting/point-light.js"],"names":["PointLight","BasePointLight","constructor","props","projectedLight","getProjectedLight","layer","viewport","context","coordinateSystem","coordinateOrigin","position","fromCoordinateSystem","isGeospatial","COORDINATE_SYSTEM","LNGLAT","IDENTITY","fromCoordinateOrigin","color","intensity"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEe,MAAMA,UAAN,SAAyBC,gBAAzB,CAAwC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,cAAL,GAAsB,IAAIH,gBAAJ,CAAmBE,KAAnB,CAAtB;AACD;;AAEDE,EAAAA,iBAAiB,OAAU;AAAA,QAAT;AAACC,MAAAA;AAAD,KAAS;AACzB,UAAMC,QAAQ,GAAGD,KAAK,CAACE,OAAN,CAAcD,QAA/B;AACA,UAAM;AAACE,MAAAA,gBAAD;AAAmBC,MAAAA;AAAnB,QAAuCJ,KAAK,CAACH,KAAnD;AACA,UAAMQ,QAAQ,GAAG,uCAAgB,KAAKA,QAArB,EAA+B;AAC9CJ,MAAAA,QAD8C;AAE9CE,MAAAA,gBAF8C;AAG9CC,MAAAA,gBAH8C;AAI9CE,MAAAA,oBAAoB,EAAEL,QAAQ,CAACM,YAAT,GAClBC,uBAAkBC,MADA,GAElBD,uBAAkBE,QANwB;AAO9CC,MAAAA,oBAAoB,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAPwB,KAA/B,CAAjB;AASA,SAAKb,cAAL,CAAoBc,KAApB,GAA4B,KAAKA,KAAjC;AACA,SAAKd,cAAL,CAAoBe,SAApB,GAAgC,KAAKA,SAArC;AACA,SAAKf,cAAL,CAAoBO,QAApB,GAA+BA,QAA/B;AACA,WAAO,KAAKP,cAAZ;AACD;;AAtBoD","sourcesContent":["import {PointLight as BasePointLight} from '@luma.gl/core';\nimport {projectPosition} from '../../shaderlib/project/project-functions';\nimport {COORDINATE_SYSTEM} from '../../lib';\n\nexport default class PointLight extends BasePointLight {\n  constructor(props) {\n    super(props);\n    this.projectedLight = new BasePointLight(props);\n  }\n\n  getProjectedLight({layer}) {\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin} = layer.props;\n    const position = projectPosition(this.position, {\n      viewport,\n      coordinateSystem,\n      coordinateOrigin,\n      fromCoordinateSystem: viewport.isGeospatial\n        ? COORDINATE_SYSTEM.LNGLAT\n        : COORDINATE_SYSTEM.IDENTITY,\n      fromCoordinateOrigin: [0, 0, 0]\n    });\n    this.projectedLight.color = this.color;\n    this.projectedLight.intensity = this.intensity;\n    this.projectedLight.position = position;\n    return this.projectedLight;\n  }\n}\n"],"file":"point-light.js"}