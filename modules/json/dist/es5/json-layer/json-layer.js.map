{"version":3,"sources":["../../../src/json-layer/json-layer.js"],"names":["defaultProps","configuration","JSONLayer","CompositeLayer","initializeState","state","layers","updateState","props","oldProps","layersChanged","data","JSON","parse","renderLayers","layerName"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,aAAa,EAAE;AADI,CAArB;;AAIe,MAAMC,SAAN,SAAwBC,kCAAxB,CAAuC;AACpDC,EAAAA,eAAe,GAAG;AAChB,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AAEDC,EAAAA,WAAW,OAAoB;AAAA,QAAnB;AAACC,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAmB;AAC7B,UAAMC,aAAa,GACjBF,KAAK,CAACG,IAAN,KAAeF,QAAQ,CAACE,IAAxB,IAAgCH,KAAK,CAACP,aAAN,KAAwBQ,QAAQ,CAACR,aADnE;;AAGA,QAAIS,aAAJ,EAAmB;AAEjB,YAAMC,IAAI,GAAG,OAAOH,KAAK,CAACG,IAAb,KAAsB,QAAtB,GAAiCC,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACG,IAAjB,CAAjC,GAA0DH,KAAK,CAACG,IAA7E;AACA,WAAKN,KAAL,CAAWC,MAAX,GAAoB,gCAAcK,IAAd,EAAoBH,KAAK,CAACP,aAA1B,CAApB;AACD;AACF;;AAEDa,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKT,KAAL,CAAWC,MAAlB;AACD;;AApBmD;;;AAuBtDJ,SAAS,CAACa,SAAV,GAAsB,WAAtB;AACAb,SAAS,CAACF,YAAV,GAAyBA,YAAzB","sourcesContent":["import { CompositeLayer } from 'kepler-outdated-deck.gl-core';\nimport {getJSONLayers} from '../parsers/convert-json';\n\nconst defaultProps = {\n  configuration: []\n};\n\nexport default class JSONLayer extends CompositeLayer {\n  initializeState() {\n    this.state = {\n      layers: []\n    };\n  }\n\n  updateState({props, oldProps}) {\n    const layersChanged =\n      props.data !== oldProps.data || props.configuration !== oldProps.configuration;\n\n    if (layersChanged) {\n      // Optionally accept JSON strings by parsing them\n      const data = typeof props.data === 'string' ? JSON.parse(props.data) : props.data;\n      this.state.layers = getJSONLayers(data, props.configuration);\n    }\n  }\n\n  renderLayers() {\n    return this.state.layers;\n  }\n}\n\nJSONLayer.layerName = 'JSONLayer';\nJSONLayer.defaultProps = defaultProps;\n"],"file":"json-layer.js"}